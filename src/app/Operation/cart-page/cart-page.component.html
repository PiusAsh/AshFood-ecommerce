
<app-navbar></app-navbar>

<div class="text-center">
    <nav aria-label="breadcrumb">
        <div class="py-5 bg-light">
            <h2 class="mb-4 cart">Cart</h2>
            <div class="text-center" style="display: flex; justify-content: center;"> <!-- Added a new div for centering -->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item breadcrumb-text">Home</li>
                    <li class="breadcrumb-item active" aria-current="page">Cart</li>
                </ol>
            </div>
        </div>
    </nav>
</div>



<app-not-found
[visible]="!cart || !cart.items.length"
notFoundMessage ="Your cart is currently empty."
resetLink="RETURN TO SHOP"
></app-not-found>

<!-- cart + summary -->
<section *ngIf="cart && cart.items.length" class=" my-5">
  <div class="container">
    <div class="row">
        <div class="col-lg-1"></div>
      <!-- cart -->
      <div class="col-lg-6">
        <h6 class="mb-3 "> <a href="#!" class="back"> <i class="fa fa-arrow-left" aria-hidden="true"></i> Back to Shopping</a></h6>

             
        <hr>

        <div class="d-flex justify-content-between align-items-center mb-4">
          <div>
            <h4 class="mb-1 CartItemPrice">Shopping cart</h4>
            <p class="mb-0">You have {{cart.items?.length}} items in your cart</p>
          </div>
         
        </div>

        <div class="card mb-3 p-4" *ngFor="let item of cart.items">
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <div class="d-flex flex-row align-items-center">
                <div>
                  <img
                    [src]="item.food.thumbnail"
                    class="img-fluid rounded-3 img-thumbnail me-2" [alt]="item.food.name" style="width: 65px;">
                </div>
                <div class="">
                  <h5 class="CartItemText"><a routerLink="/view-food/{{item.food.id}}"></a>{{item.food.name}}</h5>
                  <p class="small mb-0">{{item.food.category}}</p>
                </div>
              </div>
              <div class="d-flex flex-row align-items-center me-3">
                <div class="quantity-selector">
                    <!-- <button (click)="changeQuantity(-1, cartItem, cartItem.quantity)" class="quantity-button">-</button>
<input type="number" [(ngModel)]="quantity" class="quantity-input no-border-padding">
<button (click)="changeQuantity(1, cartItem, cartItem.quantity)" class="quantity-button">+</button> -->

<!-- <button (click)="changeQuantity(-1, cartItem)" class="quantity-button">-</button>
<input type="number" [(ngModel)]="cartItem.quantity" class="quantity-input no-border-padding">
<button (click)="changeQuantity(1, cartItem)" class="quantity-button">+</button> -->


                    <!-- <select #quantitySelect [value]="cartItem.quantity"
                    (change)="changeQuantity2(cartItem, quantitySelect.value)"
                    id="">
                <option >1</option>
                <option >2</option>
                <option >3</option>
                <option >4</option>
                </select> -->
                    
                </div>
                <!-- <div style="width: 50px;">
                  <h5 class="fw-normal mb-0 CartItemPrice">2</h5>
                </div> -->
                <div style="width: 80px;">
                  <h5 class="mb-0 CartItemPrice">{{item.price | currency: '₦'}}</h5>
                </div>
                
                <i (click)="removeFromCart(item)" class="btn btn-danger fa fa-trash" aria-hidden="true"></i>
                <!-- <a href="#!" style="color: #cecece;"><i class="fa fa-trash-alt"></i></a> -->
              </div>
            </div>
          </div>
        </div>
       
        

       

      </div>
      <!-- cart -->
      <!-- summary -->
      <div class="col-lg-4">
      
       <div>
        <div class="card shadow-0 border">
            <div class="card-body">
              <div class="d-flex justify-content-between">
                <p class="mb-2">Total Count:</p>
                <p class="mb-2">{{cart.totalCount | number}}</p>
              </div>
              <div class="d-flex justify-content-between">
                <p class="mb-2">Total Price:</p>
                <p class="mb-2 text-success">{{cart.totalPrice | currency: '₦'}}</p>
              </div>
              <div class="d-flex justify-content-between">
                <p class="mb-2">Discount:</p>
                <p class="mb-2 text-success">{{0 | currency: '₦'}}</p>
              </div>
            
              <hr />
              <div class="d-flex justify-content-between">
                <p class="mb-2">Total price:</p>
                <h5 class="mb-2 fw-bold CartItemPrice">{{cart.totalPrice | currency: '₦'}}</h5>
              </div>
  
              <div class="mt-3">
                <a href="#" class="btn btn-primary w-100 shadow-0 mb-2 proceed"> Proceed to Checkout </a>
                <a routerLink="/checkout" class="btn btn-light w-100 border mt-2"> Continue Shopping </a>
              </div>
            </div>
          </div>
       </div>
      </div>
      <div class="col-lg-1"></div>
      <!-- summary -->
    </div>
  </div>
</section>
<!-- cart + summary -->


<!-- Footer -->
<app-footer></app-footer>
<!-- Footer -->